<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Arreglos</title>
  <link rel="stylesheet" href="../_recursos/main.css">
</head>
<body>
  <h1> Arreglos </h1>

  <label for="seleccion"> Escoge tu arma: </label>
  <select name="seleccion" id="seleccion">
    <option value="piedra"> Piedra </option>
    <option value="papel"> Papel </option>
    <option value="tijeras"> Tijeras </option>
  </select>

  <button onclick="jugar();">jugar</button>
  <div id="resultado"></div>

  <script>

  function jugar(){
  var items = ["piedra", "papel", "tijeras"];
  //              0    ,    1   ,    2
  var seleccion_maquina = maquina_escoje(items);
  var seleccion_jugador = document.querySelector("#seleccion").value;
  var reglas = {
    piedra: {papel: "pierdes", tijeras: "ganas"},
    papel: {tijeras: "pierdes", piedra: "ganas"},
    tijeras: {piedra: "pierdes", papel: "ganas"},
  };
  var ganador = definir_ganador(seleccion_jugador, seleccion_maquina, reglas);
  dibujar("La maquina escoji√≥ " + seleccion_maquina + ", por lo tanto " + ganador + ".");
}

  function definir_ganador(s_jugador, s_maquina, reglas){
    if(s_maquina == s_jugador){
      return "empate";
    }
    var regla = reglas[s_jugador];
    return regla[s_maquina];
  }

  function maquina_escoje(items){
    var n_random = Math.floor(Math.random()*3);

    return items[n_random];
  }

  function dibujar(valor){
    document.querySelector("#resultado").innerHTML = valor;
  }

  </script>
</body>
</html>
